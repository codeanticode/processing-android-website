<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300">
        <link rel="icon" type="image/png" href="http://android.processing.org/favicon.png">
        <link rel="stylesheet" href="../../css/main.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>Processing for Android</title>
    </head>
    
    <body>

        <nav class="topnav">        
            <ul class="left">
                <li><a href="https://processing.org/">Processing</a></li>
                <li><a href="http://p5js.org/">p5.js</a></li>
                <li><a href="http://py.processing.org/">Processing.py</a></li>
                <li><a href="http://android.processing.org/">Processing for Android</a></li>
            </ul>
            <ul class="right">
                <li><a href="https://processingfoundation.org/">Processing Foundation</a></li>
            </ul>
        </nav>

        <header>            
            <h1 class="title">Processing for Android</h1>
        </header>

        <div class="group">

            <nav class="site">
                <img class="logo" src="../../imgs/logo.png" alt="Processing for Android logo">
                <ul class="leftnav">
                   <li><a href="../../index.html">Home</a></li>
                   <li><a href="../../install.html">Install</a></li>
                   <li><a id="selected" href="../../reference/index.html">Reference</a></li>
                   <li><a href="../../tutorials/index.html">Tutorials</a></li>
                   <li><a href="https://forum.processing.org/two/categories/android" target="_black">Forum</a></li>
                   <li><a href="https://github.com/processing/processing-android" target="_black">GitHub</a><br></li>
                </ul>
            </nav>
      
            <section class="container main-text">
                <h2>Home screens</h2>
                <p>When your device have several home screens, two functions in Processing tell you how to adjust the graphics in the sketch depending on which is the current screen: <code>wallpaperHomeCount()</code> and <code>wallpaperOffset()</code>. <code>wallpaperHomeCount()</code> holds the number of home screens (it can change while the wallpaper is running as the users adds or removes home screens). <code>wallpaperOffset()</code> is a float number between 0 and 1 that that measures the horizontal displacement along the screens: 0 at the leftmost location, and 1 when we are located at the rightmost homescreen. <a href="http://stackoverflow.com/a/9549997" target="_black">This post</a> on stackoverflow explains in more detail how the x offset works.</p>

                <pre><code>
PImage img;
float ratio;

void setup() {
  fullScreen();
  img = loadImage("landscape.jpg");
  ratio = float(img.width)/float(img.height);
}

void draw() {
  background(0);
  float w = wallpaperHomeCount() * width;
  float h = w/ratio;
  float x = map(wallpaperOffset(), 0, 1, 0, -(wallpaperHomeCount()-1) * width);
  image(img, x, 0, w, h);
}

                <code><pre>                     
            </section>

        </div>

        <footer class="footinfo">
            <small>&copy; The Processing Foundation. Processing for Android is a <a href="../team.html">collaborative project</a>.</small>
        </footer>
    </body>
</html>

